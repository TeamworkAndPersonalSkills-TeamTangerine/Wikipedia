В компютърните науки двоичното разделяне на пространството (BSP = Binary Space Partitioning) e метод за разделяне на пространството на изпъкнали региони чрез хиперравнини. Това разделяне поражда представяне на обектите в пространството чрез дървовидна структура известна като BSP-дърво.

Двоичното разделяне на пространството е разработено в контекста на 3D компютърната графика, където структурата на BSP-дървото дава възможност за бързо изчертаване на обектите в сцената представяйки полезна информация, като например подредбата на обектите в дълбочина по отношение на позицията на наблюдателя. Други приложения включват операции с геометрични форми в CAD-системите, откриване на колизии в роботиката и 3D компютърните игри, трасирането на лъчи и други приложения свързани с обработка на сложни сцени в пространството.

Преглед

Двоичното разделяне на пространството е процесът на рекурсивно разделяне на една сцена на две части докато разделянето удовлетвори едно или повече условия. На този процес може да се гледа като на обобщение на други дървовидни структури за представяне на пространствена информация като k-d-дървета и quad-дървета. Обобщение в което хиперравнините които разделят пространството, но тук разделящите хиперравнини могат да имат произволна ориентация, а не да са винаги успоредни на координатните равнини (както е при k-d-дърветата и quad-дърветата). Когато се използва в компютърната графика за изобразяване на сцени, съставени от равнинни многоъгълници, разделящите равнини често пъти (но не винаги) се избират да съвпадат с равнините дефинирани от някои от многоъгълниците в сцената.

Конкретния избор на разделяща разнина и критерий за спиране на процеса зависят от предназначението на BSP-дървото. Например, в компютърната графика, сцената се разделя докато многоъгълниците във всеки възел от дървото могат да бъдат начертани в произволен ред. Когато се използва отстраняване на обърнатите повърхности (back-face culling), всеки възел съдържа изпъкнало множество от многоъгълници, докато ако такова отсраняване не се използва, възлите съдържат само многоъгълници лежащи в една равнина. При откриването на колизии или трасирането на лъчи (ray tracing), сцената може да бъде разделена на примитивни обекти за кото тестовете за колизия или пресичане с лъч са достатъчно прости.

Двоичното разделяне на пространството възниква от нуждата на компютърната графика за бързо изчертаване на триизмерни сцени съставени от многоъгълници. Един прост метод за това е т.нар. алгоритъм на художника. Той обхожда полигоните на сцената според разстоянието до наблюдателя (по-далечните първи) и ги рисува върху фона и преди това нарисуваните многоъгълници. Този подход има два недостатъка: времето необходимо за подреждане на многоъгълниците и възможността за грешки при застъпващи се многоъгълници. Показано е, че BSP-дървото решава и двата проблема като предоставя възможност за бързо сортиране на многоъгълниците (линейно по броя многоъгълници) и избягва грешките чрез подразделяне на застъпващите се многоъгълници. Надостатък на BSP-дърветата е, че конструирането им може да е сравнително бавно.  По тази причина обикновено дървото се конструира еднократно върху статичната геометрия, преди изчертаването и останалите опеарации в реално време. Бавното конструиране на BSP-дървото прави трудно и неефективно директното вмъкване на движещи се обекти в дървното.

BSP-дърветата често се използват в 3D игрите, особено в шутърите от първо лице (FPS) и тези в затворени пространства. Ядра на игри които използват BSP-дървета са например Doom (една от първите използващи BSP) и Quake. В компютърните игри BSP-дърветата съдържащи статичната геометрия често се комбинират със Z-буфер за правилно изчертаване на движещите се обекти. Макар че двоичното разделяне на пространството е удобен начин за съхраняване и извличане на пространствена информация за многоъгълниците в сцената, то не решава проблема за определяне на видимите повърхности.
